# Database Configuration
# These are example values - DO NOT use in production!
# Copy this file to .env and update with your actual credentials

# PostgreSQL Database Credentials
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_DB=sveltekit_db

# Database Connection String
# Format: postgresql://[user]:[password]@[host]:[port]/[database]
DATABASE_URL=postgresql://postgres:your_secure_password_here@localhost:5432/sveltekit_db

# PostHog Configuration (Optional)
# Sign up at https://posthog.com/ or use self-hosted instance
# PostHog API keys are safe to expose publicly (they're designed for browser use)
# Set these in Cloudflare Worker environment variables for production

# PostHog Project API Key (same key used for both events and logs)
POSTHOG_API_KEY=your_posthog_api_key_here

# PostHog Events API Host (for HTTP requests, page views, custom events)
# US: https://app.posthog.com or https://us.posthog.com
# EU: https://eu.posthog.com
POSTHOG_HOST=https://app.posthog.com

# PostHog OTLP Logs API Host (for logs, exceptions, telemetry) - OPTIONAL
# If not set, automatically derived from POSTHOG_HOST
# US: https://us.i.posthog.com
# EU: https://eu.i.posthog.com
# POSTHOG_OTLP_HOST=https://us.i.posthog.com

# Feature Flag Cache TTL (for PostHog feature flags) - OPTIONAL
# How long to cache feature flag values in milliseconds
# Default: 600000 (10 minutes)
# Lower values mean changes take effect faster but more API calls to PostHog
# FEATURE_FLAG_CACHE_TTL_MS=600000

# Application Environment (for differentiating logs by environment) - OPTIONAL
# If not set, auto-detects from CF_PAGES_BRANCH (Cloudflare) or defaults to 'development'
# On Cloudflare: main/master â†’ production, other branches use branch name directly
# Examples: production, staging, development, feature-auth, bugfix-123
# ENVIRONMENT=production

# Upstash Redis Configuration (for rate limiting)
# Get these from Upstash Console: https://console.upstash.com/
# REST API URL for your Redis database
UPSTASH_REDIS_REST_URL=your_upstash_redis_rest_url_here

# REST API Token (secret) for your Redis database
# Set this in Cloudflare Worker environment variables for production
UPSTASH_REDIS_REST_TOKEN=your_upstash_redis_rest_token_here

# OpenTelemetry Tracing Configuration
# Tracing exports distributed traces to PostHog via OTLP for observability

# Sample rate for successful requests (0.0 to 1.0) - OPTIONAL
# Error requests are always traced regardless of sample rate
# Default: 0.1 (10% of successful requests)
# TRACE_SUCCESS_SAMPLE_RATE=0.1

# Service name for trace identification - OPTIONAL
# Default: svelte-bun
# SERVICE_NAME=svelte-bun

# Application release version - OPTIONAL
# Useful for correlating traces with deployments
# APP_RELEASE=v1.0.0

# Trace exporter type - OPTIONAL
# Options: otlp (default, exports to PostHog), memory (for tests), console (for debugging)
# Default: otlp
# TRACE_EXPORTER=otlp

# Additional OTLP headers (JSON format) - OPTIONAL
# Use this if PostHog requires additional authentication headers
# Default: Uses POSTHOG_API_KEY as Bearer token
# OTLP_HEADERS={"X-Custom-Header":"value"}
