import{h as u,C as m,D as h,L as S,N as k,I as b,F as A,G as E,J as L,K as M,f as v,M as y}from"./CotjxpfT.js";const I=Symbol("is custom element"),N=Symbol("is html"),T=b?"link":"LINK";function H(e){if(u){var a=!1,l=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var c=e.value;i(e,"value",null),e.value=c}if(e.hasAttribute("checked")){var r=e.checked;i(e,"checked",null),e.checked=r}}};e.__on_r=l,m(l),h()}}function i(e,a,l,c){var r=C(e);u&&(r[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName===T)||r[a]!==(r[a]=l)&&(a==="loading"&&(e[S]=l),e.removeAttribute(a))}function C(e){return e.__attributes??={[I]:e.nodeName.includes("-"),[N]:e.namespaceURI===k}}function K(e,a,l=a){var c=new WeakSet;A(e,"input",async r=>{var s=r?e.defaultValue:e.value;if(s=_(e)?t(s):s,l(s),v!==null&&c.add(v),await E(),s!==(s=a())){var d=e.selectionStart,f=e.selectionEnd,n=e.value.length;if(e.value=s??"",f!==null){var o=e.value.length;d===f&&f===n&&o>n?(e.selectionStart=o,e.selectionEnd=o):(e.selectionStart=d,e.selectionEnd=Math.min(f,o))}}}),(u&&e.defaultValue!==e.value||L(a)==null&&e.value)&&(l(_(e)?t(e.value):e.value),v!==null&&c.add(v)),M(()=>{var r=a();if(e===document.activeElement){var s=y??v;if(c.has(s))return}_(e)&&r===t(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function _(e){var a=e.type;return a==="number"||a==="range"}function t(e){return e===""?null:+e}export{K as b,H as r};
