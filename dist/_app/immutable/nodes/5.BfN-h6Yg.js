import{a as R,f as j}from"../chunks/ocXDWICz.js";import{o as B,A,v as e,t as D,x as r,u as a,y as t,w as f,z as o,B as J}from"../chunks/CotjxpfT.js";import{e as L,s as S}from"../chunks/N6AJ7VlO.js";import{i as U}from"../chunks/ClDK4hQ3.js";import{b as x,r as P}from"../chunks/C0bMonJD.js";import{g as F}from"../chunks/Txi4htyY.js";var G=j('<div class="error svelte-52fghe"> </div>'),H=j('<div class="container svelte-52fghe"><div class="form-card svelte-52fghe"><h1 class="svelte-52fghe">Register</h1> <p class="subtitle svelte-52fghe">Create a new account</p> <form><div class="form-group svelte-52fghe"><label for="username" class="svelte-52fghe">Username</label> <input id="username" type="text" placeholder="Enter username" class="svelte-52fghe"/></div> <div class="form-group svelte-52fghe"><label for="password" class="svelte-52fghe">Password</label> <input id="password" type="password" placeholder="Enter password" class="svelte-52fghe"/></div> <div class="form-group svelte-52fghe"><label for="confirm-password" class="svelte-52fghe">Confirm Password</label> <input id="confirm-password" type="password" placeholder="Confirm password" class="svelte-52fghe"/></div> <!> <button type="submit" class="button-primary svelte-52fghe"> </button></form> <p class="link-text svelte-52fghe">Already have an account? <a href="/login" class="svelte-52fghe">Login here</a></p></div></div>');function X(E,N){B(N,!0);let v=f(""),n=f(""),p=f(""),l=f(""),i=f(!1);async function O(){if(a(l,""),!e(v)||!e(n)||!e(p)){a(l,"All fields are required");return}if(e(n)!==e(p)){a(l,"Passwords do not match");return}a(i,!0);try{const s=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e(v),password:e(n)})}),d=await s.json();s.ok?F("/counter"):a(l,d.error||"Registration failed",!0)}catch{a(l,"Network error. Please try again.")}finally{a(i,!1)}}var c=H(),k=t(c),u=r(t(k),4),m=t(u),g=r(t(m),2);P(g),o(m);var h=r(m,2),b=r(t(h),2);P(b),o(h);var w=r(h,2),_=r(t(w),2);P(_),o(w);var C=r(w,2);{var T=s=>{var d=G(),z=t(d,!0);o(d),A(()=>S(z,e(l))),R(s,d)};U(C,s=>{e(l)&&s(T)})}var y=r(C,2),q=t(y,!0);o(y),o(u),J(2),o(k),o(c),A(()=>{g.disabled=e(i),b.disabled=e(i),_.disabled=e(i),y.disabled=e(i),S(q,e(i)?"Registering...":"Register")}),L("submit",u,s=>{s.preventDefault(),O()}),x(g,()=>e(v),s=>a(v,s)),x(b,()=>e(n),s=>a(n,s)),x(_,()=>e(p),s=>a(p,s)),R(E,c),D()}export{X as component};
